function processCheckin(e,t){}function addShare(e){}function searchProcess(e){var t=[];if(e!==""){for(c=0;c<friends.length;c++){var n=friends[c],r=n.fname,i=r.toLowerCase(),s=e.toLowerCase();i.indexOf(s)===0&&(Ti.API.debug("found "+e+" in "+r),t.push(n))}printResults(t)}else printResults([])}function clear(){Ti.API.debug("clearing tableView with items = "+tableView.children.length);for(var e=0;e<tableView.children.length;e++){var t=tableView.children[tableView.children.length-1];tableView.remove(t)}Ti.API.debug("clearing done with items = "+tableView.children.length)}function printResults(e){var t=[],n=e.length;n>20&&(n=20);for(c=0;c<n;c++){var r=e[c],i=r.fname,s=Ti.UI.createTableViewRow({height:"auto",backgroundColor:"#fff",hasChild:!1,className:"friend",data:r,layout:"horizontal"}),o=Ti.UI.createLabel({left:2,width:"auto",height:"auto",left:20,right:10,top:15,bottom:15,color:"#2179ca",text:i,font:{fontSize:12}}),u=Ti.UI.createImageView({image:"images/32/"+r.logo}),a=Ti.UI.createLabel({left:2,width:"auto",height:"auto",left:5,top:15,bottom:15,color:"#999",text:r.carname,font:{fontSize:12}});s.add(o),s.add(u),s.add(a),t.push(s)}clear(),tableView.setData(t)}function loadFriends(e){var t=require("ui/common/Login"),n=t.getUser();friends=n.getUserFriends()}function sortByName(e,t){var n=e.last_name.toLowerCase(),r=t.last_name.toLowerCase();return n<r?-1:n>r?1:0}var main,searchBar,tableView,friends,portal=require("ui/common/Portal");exports.init=function(e,t){main=Ti.UI.createWindow({backgroundColor:"#fff"});var n=Ti.UI.createView({width:"100%",height:"auto",top:0,backgroundColor:"#eee"}),r=Ti.UI.createView({left:10,right:10,top:10,width:300,bottom:10,height:"auto",layout:"vertical",backgroundColor:"#ccc",borderRadius:4});search=Ti.UI.createTextField({value:"",height:40,left:10,right:10,hintText:"search friends",autocapitalization:Ti.UI.TEXT_AUTOCAPITALIZATION_ALL,returnKeyType:Ti.UI.RETURNKEY_NEXT,borderStyle:Ti.UI.INPUT_BORDERSTYLE_NONE}),search.addEventListener("change",function(){searchProcess(this.value)}),r.add(search),n.add(r),tableView=Ti.UI.createTableView({height:"auto",top:60}),tableView.addEventListener("singletap",function(n){Ti.API.debug("table View clicked"),main.close(),e(),processCheckin(n.rowData.data,t)}),main.add(n),main.add(tableView),main.open(),loadFriends()}