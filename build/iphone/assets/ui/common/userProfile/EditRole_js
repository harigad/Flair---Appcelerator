function _createRole(e,t){var n=Ti.UI.createLabel({left:0,width:"auto",color:"#2179ca",shadowColor:"#aaa",shadowOffset:{x:1,y:1},text:e._role_title,font:{fontSize:25}}),r=Ti.UI.createView({width:"100%",height:"auto",top:0,layout:"horizontal",_role_title:n,_data:e});return r.add(_createThumb(e)),r.add(n),t&&r.add(_hr()),r.addEventListener("click",function(e){this._cancelClick=!0;if(selectedRoleView&&selectedRoleView==this)return;this.setBackgroundColor("#2179ca"),this._role_title.setColor("#fff"),selectedRoleView&&(selectedRoleView.setBackgroundColor("#fff"),selectedRoleView._role_title.setColor("#2179ca")),selectedRoleView=this,user.getPlace().role=this._data._role_title}),r.addEventListener("touchstart",function(e){Ti.API.debug("sournce = "+e.source),this._cancelClick=!1;var t=this;setTimeout(function(){t._cancelClick!==!0&&(t.setBackgroundColor("#2179ca"),t._role_title.setColor("#fff"))},300)}),r.addEventListener("touchend",function(e){}),r.addEventListener("touchmove",function(e){this._cancelClick=!0,selectedRoleView&&selectedRoleView!==this&&(this.setBackgroundColor("#fff"),this._role_title.setColor("#2179ca"))}),user.getPlace().role==e._role_title&&(selectedRoleView=r,r.setBackgroundColor("#2179ca"),n.setColor("#fff")),r}function _createThumb(e){var t=Ti.UI.createView({width:100,height:100,top:5,bottom:5,left:10,right:10,backgroundColor:"#f1f1f1",borderRadius:4,_data:e}),n=Ti.UI.createView({width:80,height:80,backgroundImage:"images/roles/100/"+e._role_id+".png"});return t.add(n),t}function _hr(){return Ti.UI.createView({backgroundImage:"images/feed/hr.png",backgroundRepeat:!0,height:2,top:0,bottom:0,width:"100%"})}var login=require("ui/common/Login"),user=login.getUser(),selectedRoleView;exports.init=function(){var e=Ti.UI.createWindow({title:"Role",barColor:"#333",backgroundColor:"#eee"});e.addEventListener("close",function(e){Ti.API.debug("Window Closed")});var t=Ti.UI.createScrollView({contentWidth:"auto",contentHeight:"auto",showVerticalScrollIndicator:!1,showHorizontalScrollIndicator:!1,width:320,top:0}),n=Ti.UI.createView({width:"100%",height:"auto",top:5,layout:"vertical"});n.add(_createRole({_role_title:"Super Hero",_role_id:"Super Hero"},!0)),n.add(_createRole({_role_title:"Villain",_role_id:"Villain"},!0)),n.add(_createRole({_role_title:"Comedian",_role_id:"Comedian"},!0)),n.add(_createRole({_role_title:"Director",_role_id:"Director/CEO"},!1)),n.add(_createRole({_role_title:"Producer",_role_id:"Producer"},!1)),n.add(_createRole({_role_title:"Advisory Board",_role_id:"Advisory Board"},!1));var r=Ti.UI.createView({width:"auto",height:"auto",top:5,bottom:10,layout:"horizontal",borderRadius:4,backgroundColor:"#770000"}),i=Ti.UI.createLabel({top:15,bottom:15,width:280,left:10,right:10,color:"#fff",textAlign:Ti.UI.TEXT_ALIGNMENT_CENTER,text:"Quit "+user.getPlace().name,font:{fontSize:18}});return r.add(i),n.add(r),t.add(n),e.add(t),e}